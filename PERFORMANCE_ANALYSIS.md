# –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏: —É–∑–∫–∏–µ –º–µ—Å—Ç–∞ –≤ –æ—Ç—Ä–∏—Å–æ–≤–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü –∏ –∑–∞–≥—Ä—É–∑–∫–µ –º–æ–¥—É–ª–µ–π

## –ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

#### 1. **PostHogInit - —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∏–º–ø–æ—Ä—Ç –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –≤ root layout**
**–§–∞–π–ª:** `app/layout.tsx:3`
```tsx
import PostHogInit from "@/components/PostHogInit";
```
**–ü—Ä–æ–±–ª–µ–º–∞:** –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –∏ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç —Å `ssr: false`

#### 2. **EmojiPicker - —Ç—è–∂–µ–ª—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ**
**–§–∞–π–ª:** `components/EmojiPicker.tsx:4-5`
```tsx
import data from '@emoji-mart/data';
import Picker from '@emoji-mart/react';
```
**–ü—Ä–æ–±–ª–µ–º–∞:** 
- `@emoji-mart/data` - –±–æ–ª—å—à–æ–π JSON —Ñ–∞–π–ª (~200KB+)
- `@emoji-mart/react` - —Ç—è–∂–µ–ª—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∞–∂–µ –∫–æ–≥–¥–∞ –ø–∏–∫–µ—Ä –Ω–µ –æ—Ç–∫—Ä—ã—Ç
**–†–µ—à–µ–Ω–∏–µ:** –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø–∏–∫–µ—Ä–∞

#### 3. **CountryCitySelect - –∑–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö –≥–æ—Ä–æ–¥–æ–≤ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏**
**–§–∞–π–ª:** `components/CountryCitySelect.tsx:4, 32, 43`
```tsx
import { Country, City } from "country-state-city";
const countries = useMemo(() => Country.getAllCountries(), []);
const list = City.getAllCities()?.slice(0) || [];
```
**–ü—Ä–æ–±–ª–µ–º–∞:** 
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ –≥–æ—Ä–æ–¥–∞ –º–∏—Ä–∞ (~200KB+ –¥–∞–Ω–Ω—ã—Ö) –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏
- –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∏–º–ø–æ—Ä—Ç —Ç—è–∂–µ–ª–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
**–†–µ—à–µ–Ω–∏–µ:** –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏ –ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö

#### 4. **framer-motion - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –≤ 6+ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö**
**–§–∞–π–ª—ã:**
- `components/PostCard.tsx`
- `components/PostActionMenu.tsx`
- `components/Button.tsx`
- `components/PostReactions.tsx`
- `components/badges/BadgeCard.tsx`
- `components/PostCommentsBadge.tsx`

**–ü—Ä–æ–±–ª–µ–º–∞:** framer-motion ~50KB+ gzipped, –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –¥–∞–∂–µ –µ—Å–ª–∏ –∞–Ω–∏–º–∞—Ü–∏–∏ –Ω–µ –Ω—É–∂–Ω—ã
**–†–µ—à–µ–Ω–∏–µ:** –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã –¥–ª—è –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∞

### üü° –°—Ä–µ–¥–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

#### 5. **PostFeed - –±–æ–ª—å—à–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
**–§–∞–π–ª:** `components/PostFeed.tsx`
**–ü—Ä–æ–±–ª–µ–º–∞:** 
- –û—á–µ–Ω—å –±–æ–ª—å—à–æ–π —Ñ–∞–π–ª (1292+ —Å—Ç—Ä–æ–∫)
- –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
- –î–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∫ Supabase —Å—Ä–∞–∑—É –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
**–†–µ—à–µ–Ω–∏–µ:** –†–∞–∑–±–∏—Ç—å –Ω–∞ –±–æ–ª–µ–µ –º–µ–ª–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å code splitting

#### 6. **Header - –∑–∞–ø—Ä–æ—Å –∫ Supabase –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ**
**–§–∞–π–ª:** `components/Header.tsx:22-28`
```tsx
useEffect(() => {
  supabase.auth.getUser().then(({ data }) => setUser(data.user ?? null));
  // ...
}, []);
```
**–ü—Ä–æ–±–ª–µ–º–∞:** –ë–ª–æ–∫–∏—Ä—É—é—â–∏–π –∑–∞–ø—Ä–æ—Å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–ª–∏ –∫–µ—à–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ

#### 7. **SiteSettingsProvider - –∑–∞–ø—Ä–æ—Å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ**
**–§–∞–π–ª:** `components/SiteSettingsContext.tsx:20`
```tsx
const { data, error } = await supabase.from("site_settings")...
```
**–ü—Ä–æ–±–ª–µ–º–∞:** –ó–∞–ø—Ä–æ—Å –∫ –ë–î –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ root layout
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–ª–∏ –∫–µ—à

#### 8. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∏–º–ø–æ—Ä—Ç–æ–≤**
**–ü—Ä–æ–±–ª–µ–º–∞:** `grep` –Ω–µ –Ω–∞—à–µ–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `next/dynamic` –Ω–∏–≥–¥–µ –≤ –ø—Ä–æ–µ–∫—Ç–µ
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### üü¢ –ú–µ–ª–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

#### 9. **SupabaseAuthSync - —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∏–º–ø–æ—Ä—Ç**
**–§–∞–π–ª:** `app/layout.tsx:4`
**–†–µ—à–µ–Ω–∏–µ:** –ú–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º, –Ω–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ

#### 10. **OnlineStatusTracker –∏ DmGlobalNotifications –≤ auth layout**
**–§–∞–π–ª:** `app/(auth)/layout.tsx:6-7`
**–ü—Ä–æ–±–ª–µ–º–∞:** –≠—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–ø—É—Å–∫–∞—é—Ç –ø–æ–¥–ø–∏—Å–∫–∏ —Å—Ä–∞–∑—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
**–†–µ—à–µ–Ω–∏–µ:** –õ–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–ª–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö—Ä–∏—Ç–∏—á–Ω–æ)

1. **–°–¥–µ–ª–∞—Ç—å PostHogInit –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º**
   ```tsx
   const PostHogInit = dynamic(() => import("@/components/PostHogInit"), {
     ssr: false
   });
   ```

2. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å EmojiPicker**
   - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `next/dynamic` –¥–ª—è –≤—Å–µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

3. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å CountryCitySelect**
   - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
   - –ó–∞–≥—Ä—É–∂–∞—Ç—å –≥–æ—Ä–æ–¥–∞ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
   - –í–æ–∑–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å debounce –¥–ª—è –ø–æ–∏—Å–∫–∞

4. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å framer-motion**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏
   - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –ª–µ–≥–∫—É—é –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∞–Ω–∏–º–∞—Ü–∏–π

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–í–∞–∂–Ω–æ)

5. **–†–∞–∑–±–∏—Ç—å PostFeed –Ω–∞ –±–æ–ª–µ–µ –º–µ–ª–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**
   - –í—ã–Ω–µ—Å—Ç–∏ PostComposer –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å code splitting –¥–ª—è —Å–ø–∏—Å–∫–∞ –ø–æ—Å—Ç–æ–≤

6. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å Header**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è user
   - –ò–ª–∏ –∫–µ—à–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ React Context

7. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å SiteSettingsProvider**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
   - –ò–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ)

8. **–î–æ–±–∞–≤–∏—Ç—å loading states**
   - –î–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ–º—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
   - Skeleton screens –¥–ª—è –ª—É—á—à–µ–≥–æ UX

9. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å bundle size**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å tree-shaking
   - –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å barrel exports –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ

10. **–î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
    - Web Vitals
    - Bundle analyzer
    - Performance monitoring

## –û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

–ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π:
- **FCP (First Contentful Paint)**: -30-50%
- **LCP (Largest Contentful Paint)**: -20-40%
- **TBT (Total Blocking Time)**: -40-60%
- **Bundle size**: -15-25% (initial load)
- **Time to Interactive**: -30-50%

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ù–∞—á–∞—Ç—å —Å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º (PostHogInit, EmojiPicker, CountryCitySelect)
2. –î–æ–±–∞–≤–∏—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã –¥–ª—è framer-motion –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
3. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å PostFeed
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
5. –ü—Ä–æ–≤–µ—Å—Ç–∏ A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–ª—É—á—à–µ–Ω–∏–π
