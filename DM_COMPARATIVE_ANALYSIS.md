# –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –º–æ–¥—É–ª—è –ª–∏—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π —Å –ø–æ–ø—É–ª—è—Ä–Ω—ã–º–∏ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞–º–∏

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **–î–≤—É—Ö–∫–∞–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞**: WebSocket Gateway (–æ—Å–Ω–æ–≤–Ω–æ–π) + Supabase Realtime (fallback)
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL (Supabase) —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏:
  - `dms_threads` - –¥–∏–∞–ª–æ–≥–∏
  - `dms_messages` - —Å–æ–æ–±—â–µ–Ω–∏—è
  - `dms_thread_participants` - —É—á–∞—Å—Ç–Ω–∏–∫–∏
  - `dms_message_receipts` - —Å—Ç–∞—Ç—É—Å—ã –¥–æ—Å—Ç–∞–≤–∫–∏ (sent, delivered, read)
  - `dms_blocks` - –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞/–ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π  
‚úÖ –í–ª–æ–∂–µ–Ω–∏—è (attachments)  
‚úÖ –°—Ç–∞—Ç—É—Å—ã –¥–æ—Å—Ç–∞–≤–∫–∏ (sent, delivered, read)  
‚úÖ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –ø–µ—á–∞—Ç–∏ (typing indicators)  
‚úÖ –û–Ω–ª–∞–π–Ω —Å—Ç–∞—Ç—É—Å (presence)  
‚úÖ –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π —á–µ—Ä–µ–∑ `client_msg_id`  
‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (IndexedDB + sessionStorage)  
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ  
‚úÖ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  

---

## üîç –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø–æ–ø—É–ª—è—Ä–Ω—ã–º–∏ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞–º–∏

### 1. Telegram Messenger

#### ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ª—É—á—à–µ –∏–ª–∏ –Ω–∞—Ä–∞–≤–Ω–µ:
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –î–≤—É—Ö–∫–∞–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ (WebSocket + fallback) - –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ Telegram
- **–î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `client_msg_id` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: IndexedDB –¥–ª—è –æ—Ñ–ª–∞–π–Ω –¥–æ—Å—Ç—É–ø–∞

#### ‚ùå –ß—Ç–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç:
1. **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π** - Telegram –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏
2. **–£–¥–∞–ª–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö** - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–¥–∞–ª–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ —É –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
3. **–û—Ç–≤–µ—Ç—ã –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è (Reply)** - –¶–∏—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
4. **–ü–µ—Ä–µ—Å—ã–ª–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π** - Forward messages
5. **–ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è** - –ó–∞–ø–∏—Å—å –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –∞—É–¥–∏–æ
6. **–°—Ç–∏–∫–µ—Ä—ã –∏ GIF** - –ë–æ–≥–∞—Ç–∞—è –º–µ–¥–∏–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞
7. **–°–µ–∫—Ä–µ—Ç–Ω—ã–µ —á–∞—Ç—ã** - End-to-end —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ
8. **–°–∞–º–æ—É–Ω–∏—á—Ç–æ–∂–∞—é—â–∏–µ—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è** - Disappearing messages
9. **–†–µ–∞–∫—Ü–∏–∏ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è** - Emoji reactions
10. **–ü—Ä–µ–≤—å—é —Å—Å—ã–ª–æ–∫** - Link previews
11. **–ü–æ–∏—Å–∫ –ø–æ —Å–æ–æ–±—â–µ–Ω–∏—è–º** - Full-text search
12. **–ó–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π** - Pinned messages
13. **–ì—Ä—É–ø–ø–æ–≤—ã–µ —á–∞—Ç—ã** - –¢–æ–ª—å–∫–æ 1-on-1 –¥–∏–∞–ª–æ–≥–∏
14. **–ö–∞–Ω–∞–ª—ã** - Broadcast channels

#### ‚ö†Ô∏è –ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å:
- **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏** - Telegram —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –≤—Å–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **–°–∂–∞—Ç–∏–µ –º–µ–¥–∏–∞** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π/–≤–∏–¥–µ–æ
- **–û—Ñ–ª–∞–π–Ω –æ—á–µ—Ä–µ–¥—å** - –ë–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–∞—è –æ—á–µ—Ä–µ–¥—å –¥–ª—è –æ—Ñ–ª–∞–π–Ω —Å–æ–æ–±—â–µ–Ω–∏–π

---

### 2. WhatsApp

#### ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ª—É—á—à–µ –∏–ª–∏ –Ω–∞—Ä–∞–≤–Ω–µ:
- **–°—Ç–∞—Ç—É—Å—ã –¥–æ—Å—Ç–∞–≤–∫–∏**: –°–∏—Å—Ç–µ–º–∞ receipts (sent, delivered, read) - –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ WhatsApp
- **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –ø–µ—á–∞—Ç–∏**: Typing indicators —Ä–∞–±–æ—Ç–∞—é—Ç
- **–û–Ω–ª–∞–π–Ω —Å—Ç–∞—Ç—É—Å**: Presence tracking

#### ‚ùå –ß—Ç–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç:
1. **End-to-end —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ** - WhatsApp –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Signal Protocol
2. **–ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è** - –ó–∞–ø–∏—Å—å –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –∞—É–¥–∏–æ
3. **–í–∏–¥–µ–æ –∑–≤–æ–Ω–∫–∏** - –í–∏–¥–µ–æ –∏ –∞—É–¥–∏–æ –∑–≤–æ–Ω–∫–∏
4. **–°—Ç–∞—Ç—É—Å—ã (Stories)** - –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã
5. **–ì—Ä—É–ø–ø–æ–≤—ã–µ —á–∞—Ç—ã** - –¢–æ–ª—å–∫–æ 1-on-1
6. **–û—Ç–≤–µ—Ç—ã –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è** - Reply to specific messages
7. **–ü–µ—Ä–µ—Å—ã–ª–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π** - Forward messages
8. **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π** - Edit sent messages
9. **–£–¥–∞–ª–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö** - Delete for everyone
10. **–†–µ–∞–∫—Ü–∏–∏** - Emoji reactions
11. **–ì–æ–ª–æ—Å–æ–≤—ã–µ –∑–∞–º–µ—Ç–∫–∏** - Voice notes
12. **–õ–æ–∫–∞—Ü–∏—è** - Share location
13. **–ö–æ–Ω—Ç–∞–∫—Ç—ã** - Share contacts
14. **–î–æ–∫—É–º–µ–Ω—Ç—ã** - Share documents
15. **–ü—Ä–æ—Å–º–æ—Ç—Ä –æ–¥–∏–Ω —Ä–∞–∑** - View once media
16. **–ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Ç–æ–≤** - Archive conversations
17. **–ó–≤–µ–∑–¥–æ—á–∫–∏** - Star important messages
18. **–ü–æ–∏—Å–∫** - Search messages

#### ‚ö†Ô∏è –ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å:
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏** - WhatsApp –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –¥–æ—Å—Ç–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π
- **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** - –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
- **–ú–µ–¥–∏–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∂–∞—Ç–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

---

### 3. Facebook Messenger

#### ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ª—É—á—à–µ –∏–ª–∏ –Ω–∞—Ä–∞–≤–Ω–µ:
- **Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: WebSocket –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏
- **–°—Ç–∞—Ç—É—Å—ã –¥–æ—Å—Ç–∞–≤–∫–∏**: –°–∏—Å—Ç–µ–º–∞ receipts
- **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –ø–µ—á–∞—Ç–∏**: Typing indicators

#### ‚ùå –ß—Ç–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç:
1. **–ì—Ä—É–ø–ø–æ–≤—ã–µ —á–∞—Ç—ã** - –¢–æ–ª—å–∫–æ 1-on-1
2. **–ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è** - Voice messages
3. **–í–∏–¥–µ–æ –∑–≤–æ–Ω–∫–∏** - Video calls
4. **–†–µ–∞–∫—Ü–∏–∏** - Emoji reactions
5. **–û—Ç–≤–µ—Ç—ã –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è** - Reply to messages
6. **–ü–µ—Ä–µ—Å—ã–ª–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π** - Forward messages
7. **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π** - Edit messages
8. **–£–¥–∞–ª–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö** - Delete for everyone
9. **–ü–ª–∞—Ç–µ–∂–∏** - Send money
10. **–ò–≥—Ä—ã** - Instant games
11. **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π** - Event planning
12. **–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –ª–æ–∫–∞—Ü–∏–µ–π** - Share location
13. **–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏** - Share contacts
14. **GIF –∏ —Å—Ç–∏–∫–µ—Ä—ã** - Rich media
15. **–ü—Ä–µ–≤—å—é —Å—Å—ã–ª–æ–∫** - Link previews
16. **–ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ** - Archive chats
17. **–ü–æ–∏—Å–∫** - Search messages
18. **–¢–µ–º—ã —á–∞—Ç–æ–≤** - Chat themes
19. **–ù–∏–∫–Ω–µ–π–º—ã** - Nicknames for contacts

#### ‚ö†Ô∏è –ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å:
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - Facebook –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –º–∏–ª–ª–∏–∞—Ä–¥—ã —Å–æ–æ–±—â–µ–Ω–∏–π
- **–ú–µ–¥–∏–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –ë–æ–ª–µ–µ —É–º–Ω—ã–µ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

---

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

### üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (P0)

#### 1. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ**: –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä—É—é –æ–∂–∏–¥–∞—é—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏  
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `edited_at` –≤ `dms_messages` (—É–∂–µ –µ—Å—Ç—å)
- API endpoint `/api/dms/messages.edit`
- UI –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º "edited"
- Broadcast –∏–∑–º–µ–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ WebSocket

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –°—Ä–µ–¥–Ω—è—è  
**–í—Ä–µ–º—è**: 2-3 –¥–Ω—è

#### 2. –£–¥–∞–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π (–¥–ª—è –≤—Å–µ—Ö)
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ**: –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å –æ—à–∏–±–∫–∏  
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `deleted_at` (—É–∂–µ –µ—Å—Ç—å)
- API endpoint `/api/dms/messages.delete`
- Soft delete —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- Broadcast —É–¥–∞–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ WebSocket

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –°—Ä–µ–¥–Ω—è—è  
**–í—Ä–µ–º—è**: 2-3 –¥–Ω—è

#### 3. –û—Ç–≤–µ—Ç—ã –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è (Reply)
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ**: –£–ª—É—á—à–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ä–∞–∑–≥–æ–≤–æ—Ä–∞  
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `reply_to_message_id` –≤ `dms_messages`
- UI –¥–ª—è –≤—ã–±–æ—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –æ—Ç–≤–µ—Ç–∞
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ü–∏—Ç–∞—Ç—ã –≤ UI
- API endpoint –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –°—Ä–µ–¥–Ω—è—è  
**–í—Ä–µ–º—è**: 3-4 –¥–Ω—è

#### 4. –£–ª—É—á—à–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –¥–æ—Å—Ç–∞–≤–∫–∏
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Ö–æ—Ç—è—Ç –≤–∏–¥–µ—Ç—å —Å—Ç–∞—Ç—É—Å —Å–≤–æ–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π  
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
- –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (—á–µ–∫–º–∞—Ä–∫–∏) –≤ UI
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ —á–µ—Ä–µ–∑ WebSocket
- –ü–æ–∫–∞–∑ –≤—Ä–µ–º–µ–Ω–∏ –¥–æ—Å—Ç–∞–≤–∫–∏/–ø—Ä–æ—á—Ç–µ–Ω–∏—è

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –ù–∏–∑–∫–∞—è  
**–í—Ä–µ–º—è**: 1-2 –¥–Ω—è

---

### üü† –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (P1)

#### 5. –ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ**: –ü–æ–ø—É–ª—è—Ä–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≤ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞—Ö  
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
- –ó–∞–ø–∏—Å—å –∞—É–¥–∏–æ —á–µ—Ä–µ–∑ Web Audio API
- –ó–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å–∏—Å—Ç–µ–º—É attachments
- –ü–ª–µ–µ—Ä –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –í—ã—Å–æ–∫–∞—è  
**–í—Ä–µ–º—è**: 5-7 –¥–Ω–µ–π

#### 6. –†–µ–∞–∫—Ü–∏–∏ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ**: –ë—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–± –≤—ã—Ä–∞–∑–∏—Ç—å —ç–º–æ—Ü–∏–∏  
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
- –¢–∞–±–ª–∏—Ü–∞ `dms_message_reactions` (message_id, user_id, emoji)
- UI –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è —Ä–µ–∞–∫—Ü–∏–π
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∞–∫—Ü–∏–π –ø–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- Broadcast —á–µ—Ä–µ–∑ WebSocket

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –°—Ä–µ–¥–Ω—è—è  
**–í—Ä–µ–º—è**: 3-4 –¥–Ω—è

#### 7. –ü–µ—Ä–µ—Å—ã–ª–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ**: –£–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± –ø–æ–¥–µ–ª–∏—Ç—å—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π  
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
- UI –¥–ª—è –≤—ã–±–æ—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
- API endpoint –¥–ª—è –ø–µ—Ä–µ—Å—ã–ª–∫–∏
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (–∫—Ç–æ –æ—Ç–ø—Ä–∞–≤–∏–ª –æ—Ä–∏–≥–∏–Ω–∞–ª)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –ø–µ—Ä–µ—Å—ã–ª–∫–∏

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –°—Ä–µ–¥–Ω—è—è  
**–í—Ä–µ–º—è**: 3-4 –¥–Ω—è

#### 8. –ü–æ–∏—Å–∫ –ø–æ —Å–æ–æ–±—â–µ–Ω–∏—è–º
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ**: –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –≤ –¥–ª–∏–Ω–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–∞—Ö  
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
- Full-text search –≤ PostgreSQL (GIN –∏–Ω–¥–µ–∫—Å)
- API endpoint `/api/dms/messages.search`
- UI –ø–æ–∏—Å–∫–∞ —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –°—Ä–µ–¥–Ω—è—è  
**–í—Ä–µ–º—è**: 4-5 –¥–Ω–µ–π

#### 9. –ì—Ä—É–ø–ø–æ–≤—ã–µ —á–∞—Ç—ã
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ**: –†–∞—Å—à–∏—Ä—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å  
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –ø–æ–ª–µ `is_group` –≤ `dms_threads`
- UI –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≥—Ä—É–ø–ø
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏
- –ì—Ä—É–ø–ø–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –í—ã—Å–æ–∫–∞—è  
**–í—Ä–µ–º—è**: 7-10 –¥–Ω–µ–π

---

### üü° –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (P2)

#### 10. –ü—Ä–µ–≤—å—é —Å—Å—ã–ª–æ–∫
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ**: –£–ª—É—á—à–∞–µ—Ç UX –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å—Å—ã–ª–æ–∫  
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
- –ü–∞—Ä—Å–∏–Ω–≥ Open Graph –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–≤—å—é
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ UI

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –°—Ä–µ–¥–Ω—è—è  
**–í—Ä–µ–º—è**: 3-4 –¥–Ω—è

#### 11. –ó–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ**: –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–¥–µ–ª–∏—Ç—å –≤–∞–∂–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è  
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
- –¢–∞–±–ª–∏—Ü–∞ `dms_pinned_messages`
- UI –¥–ª—è –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –ù–∏–∑–∫–∞—è  
**–í—Ä–µ–º—è**: 2-3 –¥–Ω—è

#### 12. –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Ç–æ–≤
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ**: –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –¥–∏–∞–ª–æ–≥–æ–≤  
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
- –ü–æ–ª–µ `archived_at` –≤ `dms_thread_participants`
- UI –¥–ª—è –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏—è
- –§–∏–ª—å—Ç—Ä –≤ —Å–ø–∏—Å–∫–µ –¥–∏–∞–ª–æ–≥–æ–≤

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –ù–∏–∑–∫–∞—è  
**–í—Ä–µ–º—è**: 2-3 –¥–Ω—è

#### 13. –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –ª–æ–∫–∞—Ü–∏–µ–π
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ**: –ü–æ–ø—É–ª—è—Ä–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è  
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–∞—Ä—Ç–∞–º–∏ (Google Maps / OpenStreetMap)
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤ attachments
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã –≤ UI

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –°—Ä–µ–¥–Ω—è—è  
**–í—Ä–µ–º—è**: 3-4 –¥–Ω—è

#### 14. –°—Ç–∏–∫–µ—Ä—ã –∏ GIF
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ**: –£–ª—É—á—à–∞–µ—Ç –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å  
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GIPHY API
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ç–∏–∫–µ—Ä—ã
- UI –¥–ª—è –≤—ã–±–æ—Ä–∞

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –°—Ä–µ–¥–Ω—è—è  
**–í—Ä–µ–º—è**: 4-5 –¥–Ω–µ–π

---

### üü¢ –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (P3)

#### 15. –°–∞–º–æ—É–Ω–∏—á—Ç–æ–∂–∞—é—â–∏–µ—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ**: –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å  
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
- –ü–æ–ª–µ `expires_at` –≤ `dms_messages`
- Cron job –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
- UI –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–∞–π–º–µ—Ä–∞

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –°—Ä–µ–¥–Ω—è—è  
**–í—Ä–µ–º—è**: 3-4 –¥–Ω—è

#### 16. End-to-end —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ**: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å  
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
- Signal Protocol –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–∞–º–∏

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è  
**–í—Ä–µ–º—è**: 2-3 –Ω–µ–¥–µ–ª–∏

#### 17. –í–∏–¥–µ–æ –∑–≤–æ–Ω–∫–∏
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ**: –†–∞—Å—à–∏—Ä—è–µ—Ç –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—é  
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
- WebRTC –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- –°–µ—Ä–≤–µ—Ä –¥–ª—è signaling
- UI –¥–ª—è –∑–≤–æ–Ω–∫–æ–≤

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è  
**–í—Ä–µ–º—è**: 3-4 –Ω–µ–¥–µ–ª–∏

#### 18. –ü–ª–∞—Ç–µ–∂–∏
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ**: –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è  
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–ª–∞—Ç–µ–∂–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- UI –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–µ–Ω–µ–≥

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –í—ã—Å–æ–∫–∞—è  
**–í—Ä–µ–º—è**: 2-3 –Ω–µ–¥–µ–ª–∏

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

#### 1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î
**–ü—Ä–æ–±–ª–µ–º–∞**: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–ø–∏—Å–∫–∞ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤  
**–†–µ—à–µ–Ω–∏–µ**:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PostgreSQL —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∞–≥—Ä–µ–≥–∞—Ü–∏–∏
- –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã –Ω–∞ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–æ–ª—è
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (Redis)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π  
**–í—Ä–µ–º—è**: 2-3 –¥–Ω—è

#### 2. –£–ª—É—á—à–µ–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
**–ü—Ä–æ–±–ª–µ–º–∞**: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ `last_server_msg_id` –º–æ–∂–µ—Ç –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è  
**–†–µ—à–µ–Ω–∏–µ**:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `sequence_number` –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏ –ø–æ—Ä—è–¥–∫–∞
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å range-based —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é
- –î–æ–±–∞–≤–∏—Ç—å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç-—Ä–µ–∑–æ–ª—é—à–Ω

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π  
**–í—Ä–µ–º—è**: 2-3 –¥–Ω—è

#### 3. –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å WebSocket
**–ü—Ä–æ–±–ª–µ–º–∞**: WebSocket gateway –Ω–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ –±–µ–∑ Redis  
**–†–µ—à–µ–Ω–∏–µ**:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redis Pub/Sub –¥–ª—è –º–µ–∂—Å–µ—Ä–≤–µ—Ä–Ω–æ–π –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ (Pusher, Ably)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°—Ä–µ–¥–Ω–∏–π  
**–í—Ä–µ–º—è**: 3-4 –¥–Ω—è

### –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å

#### 4. –£–ª—É—á—à–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
**–ü—Ä–æ–±–ª–µ–º–∞**: –ú–Ω–æ–≥–æ try-catch —Å –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ–º –æ—à–∏–±–æ–∫  
**–†–µ—à–µ–Ω–∏–µ**:
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (Sentry)
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ—à–∏–±–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏
- Retry –º–µ—Ö–∞–Ω–∏–∑–º —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π  
**–í—Ä–µ–º—è**: 2-3 –¥–Ω—è

#### 5. –£–ª—É—á—à–µ–Ω–∏–µ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏
**–ü—Ä–æ–±–ª–µ–º–∞**: –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ `client_msg_id`  
**–†–µ—à–µ–Ω–∏–µ**:
- –£–ø—Ä–æ—Å—Ç–∏—Ç—å –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—é: –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ `id` –∏ `sequence_number`
- –£–±—Ä–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ `client_msg_id` –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°—Ä–µ–¥–Ω–∏–π  
**–í—Ä–µ–º—è**: 1-2 –¥–Ω—è

### UX —É–ª—É—á—à–µ–Ω–∏—è

#### 6. –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å—Ç–∞—Ç—É—Å–∞
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–∏ —Å—Ç–∞—Ç—É—Å–∞ —Å–æ–æ–±—â–µ–Ω–∏–π  
**–†–µ—à–µ–Ω–∏–µ**:
- –î–æ–±–∞–≤–∏—Ç—å —á–µ–∫–º–∞—Ä–∫–∏ (‚úì –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ, ‚úì‚úì –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ, ‚úì‚úì –ø—Ä–æ—á–∏—Ç–∞–Ω–æ)
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏/–¥–æ—Å—Ç–∞–≤–∫–∏
- –£–≤–µ–¥–æ–º–ª—è—Ç—å –æ–± –æ—à–∏–±–∫–∞—Ö –æ—Ç–ø—Ä–∞–≤–∫–∏

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π  
**–í—Ä–µ–º—è**: 1-2 –¥–Ω—è

#### 7. –£–ª—É—á—à–µ–Ω–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
**–ü—Ä–æ–±–ª–µ–º–∞**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ sessionStorage (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ 5-10MB)  
**–†–µ—à–µ–Ω–∏–µ**:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å IndexedDB –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ (—É–∂–µ —á–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫—ç—à–∞
- –î–æ–±–∞–≤–∏—Ç—å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—ç—à–∞

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°—Ä–µ–¥–Ω–∏–π  
**–í—Ä–µ–º—è**: 2-3 –¥–Ω—è

---

## üìã –ü–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è (Roadmap)

### –§–∞–∑–∞ 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è (2-3 –Ω–µ–¥–µ–ª–∏)
1. ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
2. ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π (–¥–ª—è –≤—Å–µ—Ö)
3. ‚úÖ –û—Ç–≤–µ—Ç—ã –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è (Reply)
4. ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –¥–æ—Å—Ç–∞–≤–∫–∏ (–≤–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã)
5. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î
6. ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

### –§–∞–∑–∞ 2: –í–∞–∂–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (3-4 –Ω–µ–¥–µ–ª–∏)
7. ‚úÖ –ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
8. ‚úÖ –†–µ–∞–∫—Ü–∏–∏ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
9. ‚úÖ –ü–µ—Ä–µ—Å—ã–ª–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
10. ‚úÖ –ü–æ–∏—Å–∫ –ø–æ —Å–æ–æ–±—â–µ–Ω–∏—è–º
11. ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
12. ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å WebSocket

### –§–∞–∑–∞ 3: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (4-5 –Ω–µ–¥–µ–ª—å)
13. ‚úÖ –ì—Ä—É–ø–ø–æ–≤—ã–µ —á–∞—Ç—ã
14. ‚úÖ –ü—Ä–µ–≤—å—é —Å—Å—ã–ª–æ–∫
15. ‚úÖ –ó–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
16. ‚úÖ –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Ç–æ–≤
17. ‚úÖ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –ª–æ–∫–∞—Ü–∏–µ–π
18. ‚úÖ –°—Ç–∏–∫–µ—Ä—ã –∏ GIF

### –§–∞–∑–∞ 4: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
19. ‚úÖ –°–∞–º–æ—É–Ω–∏—á—Ç–æ–∂–∞—é—â–∏–µ—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è
20. ‚úÖ End-to-end —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ
21. ‚úÖ –í–∏–¥–µ–æ –∑–≤–æ–Ω–∫–∏
22. ‚úÖ –ü–ª–∞—Ç–µ–∂–∏

---

## üéØ –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚è±Ô∏è –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–ø–∏—Å–∫–∞ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤: < 200ms
- ‚è±Ô∏è –ó–∞–¥–µ—Ä–∂–∫–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è: < 100ms
- ‚è±Ô∏è –í—Ä–µ–º—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏: < 500ms

### –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å
- ‚úÖ 0% –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ 99.9% —É—Å–ø–µ—à–Ω—ã—Ö –¥–æ—Å—Ç–∞–≤–æ–∫
- ‚úÖ 0% –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏

### UX
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–∞ –¥–ª—è –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- ‚úÖ –ü–ª–∞–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –±–µ–∑ –ª–∞–≥–æ–≤

---

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–¢–µ–∫—É—â–∞—è —Å–∏—Å—Ç–µ–º–∞ DMs –∏–º–µ–µ—Ç —Ö–æ—Ä–æ—à—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—É—é –æ—Å–Ω–æ–≤—É —Å –¥–≤—É—Ö–∫–∞–Ω–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏ –∏ –±–∞–∑–æ–≤—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏. –û–¥–Ω–∞–∫–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞, –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ–≥–æ —Å –ø–æ–ø—É–ª—è—Ä–Ω—ã–º–∏ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞–º–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:

1. **–î–æ–±–∞–≤–∏—Ç—å –±–∞–∑–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏** (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, –æ—Ç–≤–µ—Ç—ã)
2. **–£–ª—É—á—à–∏—Ç—å UX** (–≤–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã, —Å—Ç–∞—Ç—É—Å—ã –¥–æ—Å—Ç–∞–≤–∫–∏)
3. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** (–∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è)
4. **–†–∞—Å—à–∏—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å** (–≥–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è, —Ä–µ–∞–∫—Ü–∏–∏, –≥—Ä—É–ø–ø—ã)

–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Å–ª–µ–¥—É–µ—Ç –æ—Ç–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—è–º, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –æ–∂–∏–¥–∞—é—Ç –æ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞, –Ω–∞—á–∏–Ω–∞—è —Å –±–∞–∑–æ–≤—ã—Ö (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, –æ—Ç–≤–µ—Ç—ã) –∏ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –¥–æ–±–∞–≤–ª—è—è –±–æ–ª–µ–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏.
