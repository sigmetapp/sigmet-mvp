(()=>{var e={};e.id=662,e.ids=[662,888,660],e.modules={1323:(e,t)=>{"use strict";Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,s){return s in t?t[s]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,s)):"function"==typeof t&&"default"===s?t:void 0}}})},9658:(e,t,s)=>{"use strict";s.r(t),s.d(t,{config:()=>v,default:()=>b,getServerSideProps:()=>w,getStaticPaths:()=>j,getStaticProps:()=>f,reportWebVitals:()=>N,routeModule:()=>A,unstable_getServerProps:()=>y,unstable_getServerSideProps:()=>k,unstable_getStaticParams:()=>_,unstable_getStaticPaths:()=>P,unstable_getStaticProps:()=>S});var r={};s.r(r),s.d(r,{default:()=>p});var i=s(7093),a=s(5244),l=s(1323),n=s(2899),c=s.n(n),o=s(5072),d=s(997),h=s(6689),u=s(3067),x=s(1695),m=s(4929);function p(){return d.jsx(x.Y,{children:d.jsx(g,{})})}function g(){let{site_name:e,logo_url:t}=(0,m.h)(),[s,r]=(0,h.useState)(e||""),[i,a]=(0,h.useState)(null),[l,n]=(0,h.useState)(t||null),[c,o]=(0,h.useState)(!1),x=(0,h.useRef)(null);async function p(e){let t=e.name.split(".").pop()||"png",s=`logos/site-${Date.now()}.${t}`,r=u.O.storage.from("assets"),{error:i}=await r.upload(s,e,{upsert:!0,contentType:e.type||"image/png"});if(i)throw i;let{data:a}=r.getPublicUrl(s);return a.publicUrl}async function g(){o(!0);try{let e=t||null;i&&(e=await p(i));let{data:r}=await u.O.auth.getUser(),a=r?.user?.id??null,l={id:1,site_name:s||null,logo_url:e,updated_by:a,updated_at:new Date().toISOString()},{error:n}=await u.O.from("site_settings").upsert(l,{onConflict:"id"});if(n)throw n;window.location.reload()}catch(e){alert(e?.message||"Save failed")}finally{o(!1)}}return(0,d.jsxs)("div",{className:"max-w-xl mx-auto p-6 space-y-6",children:[d.jsx("h1",{className:"text-xl font-medium text-white/90",children:"Site Settings"}),(0,d.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4 space-y-4",children:[(0,d.jsxs)("label",{className:"block space-y-2",children:[d.jsx("span",{className:"text-sm text-white/70",children:"Site name"}),d.jsx("input",{value:s,onChange:e=>r(e.target.value),placeholder:"SIGMET",className:"w-full rounded-xl bg-transparent border border-white/10 px-3 py-2 outline-none placeholder-white/40"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[d.jsx("span",{className:"text-sm text-white/70",children:"Logo"}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[d.jsx("input",{ref:x,type:"file",accept:"image/*",className:"hidden",onChange:function(e){let t=e.target.files?.[0];t&&(a(t),n(URL.createObjectURL(t)))}}),d.jsx("button",{onClick:()=>x.current?.click(),className:"h-10 px-4 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10",children:"Choose file"}),l&&d.jsx("img",{src:l,alt:"Logo preview",className:"h-10 w-10 rounded-lg border border-white/10 object-cover"})]}),d.jsx("p",{className:"text-xs text-white/50",children:"Recommended: square PNG/SVG, 36–40px height in header."})]}),d.jsx("div",{className:"pt-2",children:(0,d.jsxs)("button",{onClick:g,disabled:c,className:"relative inline-flex items-center gap-2 rounded-2xl px-5 py-2.5 bg-gradient-to-r from-white to-white/90 text-black shadow-[0_8px_24px_rgba(255,255,255,0.25)] hover:shadow-[0_10px_36px_rgba(255,255,255,0.35)] hover:translate-y-[-1px] active:translate-y-0 transition disabled:opacity-60",children:[c?"Saving…":"Save changes",d.jsx("span",{className:"absolute inset-0 rounded-2xl ring-1 ring-white/30 pointer-events-none"})]})})]})]})}let b=(0,l.l)(r,"default"),f=(0,l.l)(r,"getStaticProps"),j=(0,l.l)(r,"getStaticPaths"),w=(0,l.l)(r,"getServerSideProps"),v=(0,l.l)(r,"config"),N=(0,l.l)(r,"reportWebVitals"),S=(0,l.l)(r,"unstable_getStaticProps"),P=(0,l.l)(r,"unstable_getStaticPaths"),_=(0,l.l)(r,"unstable_getStaticParams"),y=(0,l.l)(r,"unstable_getServerProps"),k=(0,l.l)(r,"unstable_getServerSideProps"),A=new i.PagesRouteModule({definition:{kind:a.x.PAGES,page:"/settings",pathname:"/settings",bundlePath:"",filename:""},components:{App:o.default,Document:c()},userland:r})},1695:(e,t,s)=>{"use strict";s.d(t,{Y:()=>l});var r=s(997),i=s(6689);s(3067);var a=s(1163);function l({children:e}){(0,a.useRouter)();let[t,s]=(0,i.useState)(!1);return t?r.jsx(r.Fragment,{children:e}):null}},4929:(e,t,s)=>{"use strict";s.d(t,{h:()=>n,m:()=>l});var r=s(997),i=s(6689);s(3067);let a=(0,i.createContext)({site_name:null,logo_url:null});function l({children:e}){let[t,s]=(0,i.useState)({site_name:null,logo_url:null});return r.jsx(a.Provider,{value:t,children:e})}function n(){return(0,i.useContext)(a)}},3067:(e,t,s)=>{"use strict";s.d(t,{O:()=>r});let r=(0,s(2885).createClient)(process.env.NEXT_PUBLIC_SUPABASE_URL,process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY)},5072:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var r=s(997);s(6764);var i=s(1664),a=s.n(i),l=s(5675),n=s.n(l),c=s(1163),o=s(6689),d=s(4929),h=s(3067);let u=[{href:"/",label:"Home"},{href:"/feed",label:"Feed"},{href:"/profile",label:"Profile"},{href:"/settings",label:"Settings"}];function x(){let{logo_url:e,site_name:t}=(0,d.h)(),[s,i]=(0,o.useState)(null),l=(0,c.useRouter)();async function x(){await h.O.auth.signOut(),l.push("/login")}return r.jsx("header",{className:"sticky top-0 z-50 border-b border-white/10 bg-black/30 backdrop-blur supports-[backdrop-filter]:bg-black/30",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 h-14 flex items-center gap-3",children:[(0,r.jsxs)(a(),{href:"/",className:"flex items-center gap-2 group",children:[e?r.jsx(n(),{src:e,alt:"Logo",width:36,height:36,className:"rounded-md"}):r.jsx("div",{className:"h-9 w-9 rounded-md bg-white/10 grid place-items-center border border-white/10",children:"S"}),r.jsx("span",{className:"text-white/90 font-semibold tracking-tight",children:t||"SIGMET"})]}),(0,r.jsxs)("nav",{className:"ml-auto flex items-center gap-1",children:[u.map(e=>{let t=l.pathname===e.href;return r.jsx(a(),{href:e.href,className:`px-3 py-1.5 rounded-lg text-sm transition ${t?"bg-white text-black":"text-white/75 hover:text-white hover:bg-white/10"}`,children:e.label},e.href)}),s?r.jsx("button",{onClick:x,className:"ml-2 px-3 py-1.5 rounded-lg text-sm border border-white/20 text-white/80 hover:bg-white/10 transition",children:"Logout"}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(a(),{href:"/login",className:"ml-2 px-3 py-1.5 rounded-lg text-sm border border-white/20 text-white/80 hover:bg-white/10 transition",children:"Log in"}),r.jsx(a(),{href:"/signup",className:"ml-2 px-3 py-1.5 rounded-lg text-sm bg-white text-black hover:opacity-90 transition",children:"Sign up"})]})]})]})})}function m(){let{site_name:e}=(0,d.h)(),t=new Date().getFullYear();return r.jsx("footer",{className:"border-t border-white/10 bg-black/30",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-10 text-sm text-white/70",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"h-8 w-8 rounded-md bg-white/10 grid place-items-center border border-white/10",children:"S"}),r.jsx("span",{className:"text-white font-semibold tracking-tight",children:e||"SIGMET"})]}),r.jsx("p",{className:"text-white/50 max-w-xs",children:"Build your social weight with meaningful progress and transparent reputation."})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-white/80 font-medium mb-3",children:"Product"}),(0,r.jsxs)("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsx(a(),{className:"hover:text-white",href:"/feed",children:"Feed"})}),r.jsx("li",{children:r.jsx(a(),{className:"hover:text-white",href:"/profile",children:"Profile"})}),r.jsx("li",{children:r.jsx(a(),{className:"hover:text-white",href:"/settings",children:"Settings"})})]})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-white/80 font-medium mb-3",children:"Company"}),(0,r.jsxs)("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsx("a",{className:"hover:text-white",href:"https://sigmet.app",target:"_blank",rel:"noreferrer",children:"Website"})}),r.jsx("li",{children:r.jsx("a",{className:"hover:text-white",href:"mailto:hello@sigmet.app",children:"Contact"})})]})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-white/80 font-medium mb-3",children:"Social"}),(0,r.jsxs)("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsx("a",{className:"hover:text-white",href:"https://twitter.com",target:"_blank",rel:"noreferrer",children:"Twitter"})}),r.jsx("li",{children:r.jsx("a",{className:"hover:text-white",href:"https://github.com",target:"_blank",rel:"noreferrer",children:"GitHub"})})]})]})]}),(0,r.jsxs)("div",{className:"mt-8 border-t border-white/10 pt-4 flex items-center justify-between text-xs md:text-sm",children:[(0,r.jsxs)("span",{children:["\xa9 ",t," ",e||"SIGMET",". All rights reserved."]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx(a(),{href:"/settings",className:"hover:text-white",children:"Settings"}),r.jsx("a",{href:"https://sigmet.app",target:"_blank",rel:"noreferrer",className:"hover:text-white",children:"sigmet.app"})]})]})]})})}function p({children:e}){return(0,r.jsxs)("div",{className:"relative min-h-[100dvh] bg-sigmet",children:[r.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 z-0 bg-dot-grid opacity-20"}),(0,r.jsxs)("div",{className:"relative z-10 min-h-[100dvh] flex flex-col",children:[r.jsx(x,{}),r.jsx("main",{className:"flex-1",children:e}),r.jsx(m,{})]})]})}function g({Component:e,pageProps:t}){return r.jsx(d.m,{children:r.jsx(p,{children:r.jsx(e,{...t})})})}},6764:()=>{},5244:(e,t)=>{"use strict";var s;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return s}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(s||(s={}))},2885:e=>{"use strict";e.exports=require("@supabase/supabase-js")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[567,640,899],()=>s(9658));module.exports=r})();