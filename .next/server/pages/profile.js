"use strict";(()=>{var e={};e.id=277,e.ids=[277,660],e.modules={3190:(e,t,i)=>{i.a(e,async(e,s)=>{try{i.r(t),i.d(t,{config:()=>g,default:()=>m,getServerSideProps:()=>x,getStaticPaths:()=>p,getStaticProps:()=>h,reportWebVitals:()=>v,routeModule:()=>D,unstable_getServerProps:()=>S,unstable_getServerSideProps:()=>w,unstable_getStaticParams:()=>b,unstable_getStaticPaths:()=>f,unstable_getStaticProps:()=>j});var a=i(7093),r=i(5244),l=i(1323),n=i(2899),d=i.n(n),o=i(5072),c=i(5224),u=e([c]);c=(u.then?(await u)():u)[0];let m=(0,l.l)(c,"default"),h=(0,l.l)(c,"getStaticProps"),p=(0,l.l)(c,"getStaticPaths"),x=(0,l.l)(c,"getServerSideProps"),g=(0,l.l)(c,"config"),v=(0,l.l)(c,"reportWebVitals"),j=(0,l.l)(c,"unstable_getStaticProps"),f=(0,l.l)(c,"unstable_getStaticPaths"),b=(0,l.l)(c,"unstable_getStaticParams"),S=(0,l.l)(c,"unstable_getServerProps"),w=(0,l.l)(c,"unstable_getServerSideProps"),D=new a.PagesRouteModule({definition:{kind:r.x.PAGES,page:"/profile",pathname:"/profile",bundlePath:"",filename:""},components:{App:o.default,Document:d()},userland:c});s()}catch(e){s(e)}})},1695:(e,t,i)=>{i.d(t,{Y:()=>l});var s=i(997),a=i(6689);i(3067);var r=i(1163);function l({children:e}){(0,r.useRouter)();let[t,i]=(0,a.useState)(!1);return t?s.jsx(s.Fragment,{children:e}):null}},5224:(e,t,i)=>{i.a(e,async(e,s)=>{try{i.r(t),i.d(t,{default:()=>c});var a=i(997),r=i(6689),l=i(6044),n=i(3067),d=i(1695),o=e([l]);function c(){return a.jsx(d.Y,{children:a.jsx(u,{})})}function u(){let[e,t]=(0,r.useState)(!0),[i,s]=(0,r.useState)(null),[d,o]=(0,r.useState)(null),[c,u]=(0,r.useState)(),m=(0,r.useMemo)(()=>[{id:"health",emoji:"\uD83D\uDC9A",title:"Health",desc:"Sleep, nutrition, prevention, daily energy"},{id:"thinking",emoji:"\uD83E\uDDE0",title:"Thinking",desc:"Critical thinking, focus, deep work"},{id:"learning",emoji:"\uD83D\uDCDA",title:"Learning",desc:"Skills, languages, structured mastery"},{id:"career",emoji:"\uD83E\uDDE9",title:"Career",desc:"Goals, strategy, portfolio, market impact"},{id:"finance",emoji:"\uD83D\uDCB0",title:"Finance",desc:"Income, budgeting, investing, safety buffer"},{id:"relationships",emoji:"\uD83E\uDD1D",title:"Relationships",desc:"Family, friends, network and trust"},{id:"creativity",emoji:"\uD83C\uDFA8",title:"Creativity",desc:"Projects, ideas, self expression and style"},{id:"sport",emoji:"\uD83C\uDFC3‍♂️",title:"Sport",desc:"Strength, endurance, movement and discipline"},{id:"habits",emoji:"⏱️",title:"Habits",desc:"Daily rhythm, order, life automation"},{id:"emotions",emoji:"\uD83C\uDF3F",title:"Emotions",desc:"Resilience, mindfulness, inner balance"},{id:"meaning",emoji:"✨",title:"Meaning",desc:"Values, mission, personal north star"},{id:"community",emoji:"\uD83C\uDFD9️",title:"Community",desc:"Contribution, volunteering, local projects"}],[]);async function h(){if(!i)return;let{error:e}=await n.O.from("profiles").upsert(i,{onConflict:"user_id"});u(e?e.message:"Profile saved")}async function p(){let{data:{user:e}}=await n.O.auth.getUser();if(!e||!d)return;let t=`${e.id}/avatar.png`,{error:i}=await n.O.storage.from("avatars").upload(t,d,{upsert:!0});if(i){u(i.message);return}let{data:a}=n.O.storage.from("avatars").getPublicUrl(t);s(e=>({...e,avatar_url:a.publicUrl}))}return e?a.jsx("div",{className:"p-6 text-white/70",children:"Loading..."}):a.jsx("main",{className:"max-w-2xl mx-auto p-6",children:(0,a.jsxs)("div",{className:"card p-6 space-y-5",children:[a.jsx("h1",{className:"text-white text-xl font-semibold",children:"Profile settings"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:i.avatar_url||"/avatar-fallback.png",className:"w-16 h-16 rounded-full object-cover",alt:"avatar"}),(0,a.jsxs)("div",{children:[a.jsx("input",{type:"file",onChange:e=>o(e.target.files?.[0]||null),className:"text-white"}),a.jsx(l.Z,{onClick:p,variant:"secondary",size:"sm",className:"ml-2",children:"Upload"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"label",children:"Username"}),a.jsx("input",{className:"input",value:i.username||"",onChange:e=>s({...i,username:e.target.value})})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"label",children:"Full name"}),a.jsx("input",{className:"input",value:i.full_name||"",onChange:e=>s({...i,full_name:e.target.value})})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"label",children:"About"}),a.jsx("textarea",{className:"input",value:i.bio||"",onChange:e=>s({...i,bio:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-white font-medium",children:"12 Areas of Growth"}),a.jsx("div",{className:"text-white/60 text-sm",children:"Pick up to three priorities. This will tailor your personal feed and plan."})]}),(0,a.jsxs)("div",{className:"text-white/70 text-sm",children:["Selected: ",i.directions_selected?.length||0," of 3"]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:m.map(e=>{let t=(i.directions_selected||[]).includes(e.id);return a.jsx("button",{type:"button",onClick:()=>{u(void 0),s(t=>{let i=t?.directions_selected||[];return i.includes(e.id)?{...t,directions_selected:i.filter(t=>t!==e.id)}:i.length>=3?t:{...t,directions_selected:[...i,e.id]}})},className:`text-left rounded-2xl border px-4 py-3 transition ${t?"border-white/40 bg-white/10":"border-white/10 hover:border-white/20 hover:bg-white/5"}`,children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"text-xl leading-none","aria-hidden":!0,children:e.emoji}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-white font-medium flex items-center gap-2",children:[e.title,t&&a.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-white/80"})]}),a.jsx("div",{className:"text-white/60 text-sm",children:e.desc})]})]})},e.id)})}),i?.directions_selected?.length>3&&a.jsx("div",{className:"text-red-400 text-sm",children:"Please select up to 3 areas."})]}),c&&a.jsx("div",{className:"text-white/70 text-sm",children:c}),a.jsx(l.Z,{onClick:h,variant:"primary",className:"w-full",children:"Save"})]})})}l=(o.then?(await o)():o)[0],s()}catch(e){s(e)}})},2885:e=>{e.exports=require("@supabase/supabase-js")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},6197:e=>{e.exports=import("framer-motion")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),s=t.X(0,[567,640,899,774],()=>i(3190));module.exports=s})();