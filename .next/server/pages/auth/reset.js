(()=>{var e={};e.id=15,e.ids=[15,888,660],e.modules={1323:(e,t)=>{"use strict";Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,s){return s in t?t[s]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,s)):"function"==typeof t&&"default"===s?t:void 0}}})},5805:(e,t,s)=>{"use strict";s.r(t),s.d(t,{config:()=>f,default:()=>m,getServerSideProps:()=>b,getStaticPaths:()=>g,getStaticProps:()=>p,reportWebVitals:()=>j,routeModule:()=>_,unstable_getServerProps:()=>P,unstable_getServerSideProps:()=>S,unstable_getStaticParams:()=>N,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>w});var r={};s.r(r),s.d(r,{default:()=>x});var i=s(7093),a=s(5244),l=s(1323),n=s(2899),c=s.n(n),d=s(5072),o=s(997),h=s(6689),u=s(3067);function x(){let[e,t]=(0,h.useState)(""),[s,r]=(0,h.useState)(!1),[i,a]=(0,h.useState)();async function l(t){t.preventDefault(),r(!0),a(void 0);try{let{data:{user:t},error:s}=await u.O.auth.getUser();if(s)throw s;if(!t)throw Error("No user in session");let{error:r}=await u.O.auth.updateUser({password:e});if(r)throw r;await u.O.auth.updateUser({data:{must_change_password:!1}}),a("Password updated. You can continue.")}catch(e){a(e.message||"Error")}finally{r(!1)}}return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-base.bg p-6",children:(0,o.jsxs)("form",{onSubmit:l,className:"card p-6",children:[o.jsx("h1",{className:"text-white text-2xl mb-4",children:"Set a new password"}),o.jsx("input",{className:"input",type:"password",value:e,onChange:e=>t(e.target.value),placeholder:"New password",required:!0}),i&&o.jsx("div",{className:"text-white/80 text-sm mt-3",children:i}),o.jsx("button",{className:"btn btn-primary w-full mt-4 disabled:opacity-60",disabled:s,children:s?"Please wait":"Update password"})]})})}let m=(0,l.l)(r,"default"),p=(0,l.l)(r,"getStaticProps"),g=(0,l.l)(r,"getStaticPaths"),b=(0,l.l)(r,"getServerSideProps"),f=(0,l.l)(r,"config"),j=(0,l.l)(r,"reportWebVitals"),w=(0,l.l)(r,"unstable_getStaticProps"),v=(0,l.l)(r,"unstable_getStaticPaths"),N=(0,l.l)(r,"unstable_getStaticParams"),P=(0,l.l)(r,"unstable_getServerProps"),S=(0,l.l)(r,"unstable_getServerSideProps"),_=new i.PagesRouteModule({definition:{kind:a.x.PAGES,page:"/auth/reset",pathname:"/auth/reset",bundlePath:"",filename:""},components:{App:d.default,Document:c()},userland:r})},4929:(e,t,s)=>{"use strict";s.d(t,{h:()=>n,m:()=>l});var r=s(997),i=s(6689);s(3067);let a=(0,i.createContext)({site_name:null,logo_url:null});function l({children:e}){let[t,s]=(0,i.useState)({site_name:null,logo_url:null});return r.jsx(a.Provider,{value:t,children:e})}function n(){return(0,i.useContext)(a)}},3067:(e,t,s)=>{"use strict";s.d(t,{O:()=>r});let r=(0,s(2885).createClient)(process.env.NEXT_PUBLIC_SUPABASE_URL,process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY)},5072:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var r=s(997);s(6764);var i=s(1664),a=s.n(i),l=s(5675),n=s.n(l),c=s(1163),d=s(6689),o=s(4929),h=s(3067);let u=[{href:"/",label:"Home"},{href:"/feed",label:"Feed"},{href:"/profile",label:"Profile"},{href:"/settings",label:"Settings"}];function x(){let{logo_url:e,site_name:t}=(0,o.h)(),[s,i]=(0,d.useState)(null),l=(0,c.useRouter)();async function x(){await h.O.auth.signOut(),l.push("/login")}return r.jsx("header",{className:"sticky top-0 z-50 border-b border-white/10 bg-black/30 backdrop-blur supports-[backdrop-filter]:bg-black/30",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 h-14 flex items-center gap-3",children:[(0,r.jsxs)(a(),{href:"/",className:"flex items-center gap-2 group",children:[e?r.jsx(n(),{src:e,alt:"Logo",width:36,height:36,className:"rounded-md"}):r.jsx("div",{className:"h-9 w-9 rounded-md bg-white/10 grid place-items-center border border-white/10",children:"S"}),r.jsx("span",{className:"text-white/90 font-semibold tracking-tight",children:t||"SIGMET"})]}),(0,r.jsxs)("nav",{className:"ml-auto flex items-center gap-1",children:[u.map(e=>{let t=l.pathname===e.href;return r.jsx(a(),{href:e.href,className:`px-3 py-1.5 rounded-lg text-sm transition ${t?"bg-white text-black":"text-white/75 hover:text-white hover:bg-white/10"}`,children:e.label},e.href)}),s?r.jsx("button",{onClick:x,className:"ml-2 px-3 py-1.5 rounded-lg text-sm border border-white/20 text-white/80 hover:bg-white/10 transition",children:"Logout"}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(a(),{href:"/login",className:"ml-2 px-3 py-1.5 rounded-lg text-sm border border-white/20 text-white/80 hover:bg-white/10 transition",children:"Log in"}),r.jsx(a(),{href:"/signup",className:"ml-2 px-3 py-1.5 rounded-lg text-sm bg-white text-black hover:opacity-90 transition",children:"Sign up"})]})]})]})})}function m(){let{site_name:e}=(0,o.h)(),t=new Date().getFullYear();return r.jsx("footer",{className:"border-t border-white/10 bg-black/30",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-10 text-sm text-white/70",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"h-8 w-8 rounded-md bg-white/10 grid place-items-center border border-white/10",children:"S"}),r.jsx("span",{className:"text-white font-semibold tracking-tight",children:e||"SIGMET"})]}),r.jsx("p",{className:"text-white/50 max-w-xs",children:"Build your social weight with meaningful progress and transparent reputation."})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-white/80 font-medium mb-3",children:"Product"}),(0,r.jsxs)("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsx(a(),{className:"hover:text-white",href:"/feed",children:"Feed"})}),r.jsx("li",{children:r.jsx(a(),{className:"hover:text-white",href:"/profile",children:"Profile"})}),r.jsx("li",{children:r.jsx(a(),{className:"hover:text-white",href:"/settings",children:"Settings"})})]})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-white/80 font-medium mb-3",children:"Company"}),(0,r.jsxs)("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsx("a",{className:"hover:text-white",href:"https://sigmet.app",target:"_blank",rel:"noreferrer",children:"Website"})}),r.jsx("li",{children:r.jsx("a",{className:"hover:text-white",href:"mailto:hello@sigmet.app",children:"Contact"})})]})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-white/80 font-medium mb-3",children:"Social"}),(0,r.jsxs)("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsx("a",{className:"hover:text-white",href:"https://twitter.com",target:"_blank",rel:"noreferrer",children:"Twitter"})}),r.jsx("li",{children:r.jsx("a",{className:"hover:text-white",href:"https://github.com",target:"_blank",rel:"noreferrer",children:"GitHub"})})]})]})]}),(0,r.jsxs)("div",{className:"mt-8 border-t border-white/10 pt-4 flex items-center justify-between text-xs md:text-sm",children:[(0,r.jsxs)("span",{children:["\xa9 ",t," ",e||"SIGMET",". All rights reserved."]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx(a(),{href:"/settings",className:"hover:text-white",children:"Settings"}),r.jsx("a",{href:"https://sigmet.app",target:"_blank",rel:"noreferrer",className:"hover:text-white",children:"sigmet.app"})]})]})]})})}function p({children:e}){return(0,r.jsxs)("div",{className:"relative min-h-[100dvh] bg-sigmet",children:[r.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 z-0 bg-dot-grid opacity-20"}),(0,r.jsxs)("div",{className:"relative z-10 min-h-[100dvh] flex flex-col",children:[r.jsx(x,{}),r.jsx("main",{className:"flex-1",children:e}),r.jsx(m,{})]})]})}function g({Component:e,pageProps:t}){return r.jsx(o.m,{children:r.jsx(p,{children:r.jsx(e,{...t})})})}},6764:()=>{},5244:(e,t)=>{"use strict";var s;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return s}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(s||(s={}))},2885:e=>{"use strict";e.exports=require("@supabase/supabase-js")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[567,640,899],()=>s(5805));module.exports=r})();